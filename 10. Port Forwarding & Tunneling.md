# Portforwarding & Tunneling
## Meterpreter - portfwd
```bash
portfwd add -l 9999 -p 22 -t Target2
```

## Meterpreter - route add
```bash
route add <destination_subnet> <netmask> <SID>
```

## iptables
```bash
echo '1' > /proc/sys/net/ipv4/conf/eth0/forwarding
iptables -t nat -A PREROUTING -p tcp -i eth0 --dport 8000 -j DNAT --to-destination <target_ip>:<port>
iptables -A FORWARD -p tcp -d <Target_ip> --dport 80 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT
```

## netcat - linux
```bash
mknod mypipe p
nc -nvlp 8000 < mypipe | nc <target ip> 80 > mypipe
```

### netsh
```cmd
netsh interface portproxy add v4tov4 listenport=8000 connectport=80 connectaddress=<target IP>
```
